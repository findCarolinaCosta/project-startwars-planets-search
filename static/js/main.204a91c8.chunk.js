(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(9),c=a.n(l),s=(a(15),a(6)),o=a(1),m=a(2),u=a.n(m),i=a(5);function d(){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(u.a.mark((function e(){var t,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://swapi-trybe.herokuapp.com/api/planets/",e.prev=1,e.next=4,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,r=a.results,e.abrupt("return",t.ok?Promise.resolve(r):Promise.reject(r));case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}var h=Object(r.createContext)(),p=h.Provider;h.Consumer;function E(e){var t=e.children,a=Object(r.useState)([]),l=Object(o.a)(a,2),c=l[0],s=l[1],m=Object(r.useState)(""),f=Object(o.a)(m,2),h=f[0],E=f[1],v=Object(r.useState)(!1),b=Object(o.a)(v,2),g=b[0],N=b[1],_=Object(r.useState)([]),k=Object(o.a)(_,2),j=k[0],y=k[1],O=Object(r.useState)({}),D=Object(o.a)(O,2),x=D[0],C=D[1],w=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,d();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){w()}),[]);var S={data:c,filterByName:h,setFilterByName:E,filtered:g,setFiltered:N,filterByNumericValues:j,setFilterByNumericValues:y,order:x,setOrder:C};return n.a.createElement(p,{value:S},t)}var v=["population","orbital_period","diameter","rotation_period","surface_water"];var b=function(){var e=Object(r.useContext)(h),t=e.filterByName,a=e.setFilterByName,l=e.setFiltered,c=e.setFilterByNumericValues,m=Object(r.useState)("population"),u=Object(o.a)(m,2),i=u[0],d=u[1],f=Object(r.useState)("maior que"),p=Object(o.a)(f,2),E=p[0],b=p[1],g=Object(r.useState)("0"),N=Object(o.a)(g,2),_=N[0],k=N[1],j=Object(r.useState)(v),y=Object(o.a)(j,2),O=y[0],D=y[1],x=Object(r.useState)([]),C=Object(o.a)(x,2),w=C[0],S=C[1];return n.a.createElement("section",{className:"flex p-4 align-middle flex-col"},n.a.createElement("div",{className:"m-auto p-5"},n.a.createElement("input",{value:t,onChange:function(e){var t=e.target;a(t.value)},"data-testid":"name-filter",placeholder:"Filtro pelo nome do planeta",className:"form-control"})),n.a.createElement("div",{className:"flex justify-center w-10/12 gap-5 self-center items-center"},n.a.createElement("p",{className:"self-center"},"Filtre por:"),n.a.createElement("label",{htmlFor:"select-option",className:"self-center"},n.a.createElement("select",{id:"select-option","data-testid":"column-filter",name:"column",onChange:function(e){return function(e){var t=e.target;d(t.value)}(e)},value:i,className:"form-select"},O.map((function(e){return n.a.createElement("option",{key:e},e)})))),n.a.createElement("label",{htmlFor:"select-comparison",className:"self-center"},n.a.createElement("select",{id:"select-comparison","data-testid":"comparison-filter",name:"comparison",onChange:function(e){return b(e.target.value)},value:E,className:"form-select"},n.a.createElement("option",null,"maior que"),n.a.createElement("option",null,"menor que"),n.a.createElement("option",null,"igual a"))),n.a.createElement("input",{type:"number","data-testid":"value-filter",placeholder:"Digite um valor",name:"value",value:_,onChange:function(e){return k(e.target.value)},className:"form-control w-25"}),n.a.createElement("button",{type:"button","data-testid":"button-filter",onClick:function(){l(!0),c({column:i,comparison:E,value:_}),S((function(e){return[].concat(Object(s.a)(e),[{column:i,comparison:E,value:_}])})),d("population"),b("maior que"),k("0");var e=O.filter((function(e){return e!==i}));D(e)},className:"btn btn-info"},"Filtrar")),n.a.createElement("div",null,w.map((function(e){return n.a.createElement("div",{key:Math.random().toString().substr(2,9),"data-testid":"filter"},n.a.createElement("span",{className:"align-middle"},"".concat(e.column,"\n                  ").concat(e.comparison," ").concat(e.value)),n.a.createElement("button",{type:"button",onClick:function(){return t=e.column,S((function(e){return e.filter((function(e){return e.column!==t}))})),D((function(e){return[].concat(Object(s.a)(e),[t])})),void c([w[w.length-1]]);var t}},n.a.createElement("svg",{className:"svg-icon-trash",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true","data-testid":"DeleteIcon"},n.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}))))}))))};var g=function(){return Object(r.useEffect)((function(){var e=setTimeout((function(){return document.scrollingElement.scroll(0,1e3)}),3600);return function(){clearTimeout(e)}}),[]),n.a.createElement("div",{className:"div__loading-initial bg-black flex min-h-screen"},n.a.createElement("svg",{viewBox:"0 0 100 75",className:"m-auto max-w-screen-sm block"},n.a.createElement("g",{stroke:"rgb(13, 202, 240)",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},n.a.createElement("g",{transform:"translate(9 10.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 10 h 8 a 7 7 0 0 0 0 -14 h 9 v -6 h -10 a 7 7 0 0 0 0 14 h -10 v 6 z",className:"svg__letters-1"})),n.a.createElement("g",{transform:"translate(30 10.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 -10 h 20 v 6 h -7 v 15 h -6 v -15 h -7 z",className:"svg__letters-2"})),n.a.createElement("g",{transform:"translate(51 10.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 10 l 7 -20 h 6 l 7 20 h -6 l -1.05 -3 h -5.9 l -1.05 3 z",className:"svg__letters-3"}),n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 8 2 h 4 l -2 -5.7 -2 5.7 z",className:"svg__letters-3"})),n.a.createElement("g",{transform:"translate(76 10.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 -10 h 12 a 7 7 0 0 1 0 14 l 5 6 h -7 l -5 -6 v 6 h -5.5 z",className:"svg__letters-4"}),n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 5 -5 h 5 a 2 2 0 0 1 0 4 h -5 z",className:"svg__letters-4"})),n.a.createElement("g",{transform:"translate(0.5 35.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 -10 l 7 20 h 6 l 1.75 -5 1.75 5 h 6 l 7 -20 h -7 l -2.375 6.8 -2.375 -6.8 h -6 l -2.375 6.8 -2.375 -6.8 h -7z",className:"svg__letters-5"})),n.a.createElement("g",{transform:"translate(30 35.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 10 l 7 -20 h 6 l 7 20 h -6 l -1.05 -3 h -5.9 l -1.05 3 z",className:"svg__letters-6"}),n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 8 2 h 4 l -2 -5.7 -2 5.7 z",className:"svg__letters-6"})),n.a.createElement("g",{transform:"translate(56 35.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 -10 h 12 a 7 7 0 0 1 0 14 l 5 6 h -7 l -5 -6 v 6 h -5.5 z",className:"svg__letters-7"}),n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 5 -5 h 5 a 2 2 0 0 1 0 4 h -5 z",className:"svg__letters-7"})),n.a.createElement("g",{transform:"translate(82.5 35.5)"},n.a.createElement("path",{strokeDasharray:"200",strokeDashoffset:"200",d:"M 0 10 h 8 a 7 7 0 0 0 0 -14 h 9 v -6 h -10 a 7 7 0 0 0 0 14 h -10 v 6 z",className:"svg__letters-8"}))),n.a.createElement("g",null,n.a.createElement("text",{x:"50",y:"55",textLength:"100",lengthAdjust:"spacing",textAnchor:"middle",fill:"hsl(0, 0%, 100%)",className:"text__planets"},"Planets"))))},N=a(7);var _=function(){var e=Object(r.useContext)(h).setOrder,t=Object(r.useState)(""),a=Object(o.a)(t,2),l=a[0],c=a[1],s=Object(r.useState)(""),m=Object(o.a)(s,2),u=m[0],i=m[1],d=function(e){var t=e.target;c(t.value)};return n.a.createElement("div",{className:"flex p-4 align-middle justify-center gap-5"},n.a.createElement("p",{className:"self-center"},"Ordenar:"),n.a.createElement("label",{htmlFor:"option__order",className:"self-center"},n.a.createElement("select",{id:"option__order","data-testid":"column-sort",name:"column",onChange:function(e){var t=e.target;return i(t.value)},value:u,className:"form-select"},v.map((function(e){return n.a.createElement("option",{key:e},e)})))),n.a.createElement("label",{htmlFor:"sort__asc",className:"self-center"},n.a.createElement("input",{name:"opcao",id:"sort__asc",type:"radio","data-testid":"column-sort-input-asc",value:"ASC",onChange:d,className:"form-check-input"}),"Ascendente"),n.a.createElement("label",{htmlFor:"sort__dsc",className:"self-center"},n.a.createElement("input",{name:"opcao",id:"sort__dsc",type:"radio","data-testid":"column-sort-input-desc",value:"DESC",onChange:d,className:"form-check-input"}),"Descendente"),n.a.createElement("button",{"data-testid":"column-sort-button",type:"button",onClick:function(){e((function(e){return Object(N.a)(Object(N.a)({},e),{},{column:u,sort:l})}))},className:"btn btn-info"},"Ordenar"))};var k=function(e){var t=e.planet;return n.a.createElement(n.a.Fragment,null,n.a.createElement("td",{"data-testid":"planet-name"},t.name),n.a.createElement("td",null,t.rotation_period),n.a.createElement("td",null,t.orbital_period),n.a.createElement("td",null,t.diameter),n.a.createElement("td",null,t.climate),n.a.createElement("td",null,t.gravity),n.a.createElement("td",null,t.terrain),n.a.createElement("td",null,t.surface_water),n.a.createElement("td",null,t.population),n.a.createElement("td",null,t.films),n.a.createElement("td",null,t.created),n.a.createElement("td",null,t.edited),n.a.createElement("td",null,t.url))};var j=function(){var e=Object(r.useContext)(h),t=e.data,a=e.filterByName,l=e.filtered,c=e.filterByNumericValues,s=e.order;return n.a.createElement("tbody",null,l||""!==a||s.column?t.filter((function(e){return function(e,t){var a=t.column,r=t.comparison,n=t.value;return"igual a"===r?Number(e[a])===Number(n):"menor que"===r?Number(e[a])<Number(n):"maior que"!==r||Number(e[a])>Number(n)}(e,c)})).filter((function(e){var t=e.name;return""===a||t.includes(a)})).sort((function(e,t){return function(e,t,a){return"ASC"===a.sort?e[a.column]-t[a.column]:"DESC"===a.sort?t[a.column]-e[a.column]:e.name.localeCompare(t.name)}(e,t,s)})).map((function(e,t){return n.a.createElement("tr",{key:Math.random().toString().substr(2,9),className:t%2===0?"table-active table__row":"table__row"},n.a.createElement(k,{planet:e}))})):t.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e,t){return n.a.createElement("tr",{key:Math.random().toString().substr(2,9),className:t%2===0?"table-active table__row":"table__row"},n.a.createElement(k,{planet:e}))})))};var y=function(){return n.a.createElement("div",{className:"div__table table-responsive"},n.a.createElement("table",{className:"table m-5 table-bordered align-middle table-sm"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Rotation Period"),n.a.createElement("th",null,"Orbital Period"),n.a.createElement("th",null,"Diameter"),n.a.createElement("th",null,"Climate"),n.a.createElement("th",null,"Gravity"),n.a.createElement("th",null,"Terrain"),n.a.createElement("th",null,"Surface Water"),n.a.createElement("th",null,"Population"),n.a.createElement("th",null,"Films"),n.a.createElement("th",null,"Created"),n.a.createElement("th",null,"Edited"),n.a.createElement("th",null,"URL"))),n.a.createElement(j,null)))};var O=function(){return n.a.createElement(E,null,n.a.createElement(g,null),n.a.createElement("div",{className:"container pb-8"},n.a.createElement("section",{className:"section__header font-bold"},n.a.createElement(b,null),n.a.createElement(_,null)),n.a.createElement("div",{className:"div__table font-bold bg-white"},n.a.createElement(y,null))))};a(17);c.a.render(n.a.createElement(O,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.204a91c8.chunk.js.map